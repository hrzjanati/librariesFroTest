{% extends "base.html" %}
{% load humanize %}
{% load jformat %}

{% block title %}جزئیات کتابخانه: {{ library.name }}{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto">

    <h1 class="text-3xl font-bold text-center text-blue-700 mb-6">
        جزئیات کتابخانه: {{ library.name }}
    </h1>

    <p class="text-gray-500 text-sm text-center mb-6">
        تاریخ ایجاد: {{ library.date_of_create|jformat:"%Y/%m/%d" }}
    </p>

    <!-- کارت‌های آیتم‌ها با اسکرول افقی -->
    <div class="flex overflow-x-auto gap-4 pb-2 -mx-2 px-2 smooth-scroll">
        {% for item in library.required_items.all %}
            <div class="flex-shrink-0
                        w-[90%] sm:w-[45%] md:w-[30%] lg:w-[22%]
                        min-w-[250px]
                        bg-white p-4 rounded-lg border border-gray-300 shadow-md hover:shadow-lg transition">
                <h4 class="font-bold text-lg mb-2 text-gray-800">{{ item.name }}</h4>
                <p class="text-sm text-gray-600 mb-1">دسته: {{ item.category }}</p>
                <p class="text-sm text-gray-600 mb-1">تعداد لازم: {{ item.number_of_required }}</p>
                <p class="text-sm text-gray-600 mb-1">موجود: {{ item.given_number }}</p>
                <p class="text-sm font-semibold mt-2 text-gray-800">
                    مبلغ: {{ item.amount|intcomma }} ریال
                </p>
            </div>
        {% empty %}
            <p class="text-center text-gray-500 w-full">هیچ آیتمی موجود نیست.</p>
        {% endfor %}
    </div>

    <div class="text-center mt-6">
        <a href="{% url 'home' %}" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">
            بازگشت به صفحه اصلی
        </a>
    </div>

</div>

{% endblock %}